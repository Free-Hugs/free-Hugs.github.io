<!DOCTYPE html>
<html>

<head>
  <title>Kanamé MURAKAMI</title>
  <link rel="stylesheet" href="static/index.css">
</head>

<body>
  <nav class="navMenu">
      <a href="/">Home</a>
      <a href="/">Projects</a>
      <a href="/">More</a>
      <button class="cv" href="/"><b>Download CV</b></button>
      <div class="animation start-home"></div>
  </nav>
  <div class="content-width">
    <div class="slideshow">
      <!-- Slideshow Items -->
      <div class="slideshow-items">
        <div class="item">
          <div class="item-image-container">
            <img class="item-image" src="1.png" />
          </div>
          <!-- Staggered Header Elements -->
          <div class="item-header">
            <span class="vertical-part vertical-title"><b>About me </b></span>
          </div>
          <!-- Staggered Description Elements -->
          <div class="item-description">
            <span class="vertical-part">
              <b>My name is Kanamé MURAKAMI. I am a student at Telecom SudParis engineer school in France. My current courses are based on computer science, and I would like to work in a network company. In my school, I am a regular member of many clubs: Art Council, Network Association, Games Club and Game Design Club are some of the organizations I belong to.</b>
            </span>   
          </div>
        </div>
        <div class="item">
          <div class="item-image-container">
            <img class="item-image" src="2.png" />
          </div>
          <!-- Staggered Header Elements -->
          <div class="item-header">
            <span class="vertical-part vertical-title"><b>Projects </b></span>
          </div>
          <!-- Staggered Description Elements -->
          <div class="item-description">
            <span class="vertical-part">
              <b>With the Clubs and school projects, I had the chance to be part of some development teams. I mainly did Web Development (based on HTML/CSS) and Game Development (Unity). But I also learned some other tools in those fields (Angular, Android Development), and I keep learning some IT tools that are useful in network and application development.</b>
            </span>
          </div>
        </div>
        <div class="item">
          <div class="item-image-container">
            <img class="item-image" src="3.png" />
          </div>
          <!-- Staggered Header Elements -->
          <div class="item-header">
            <span class="vertical-part vertical-title"><b>More </b></span>
          </div>
          <!-- Staggered Description Elements -->
          <div class="item-description">
            <span class="vertical-part">
              <b>Painting, Coding,.... Creating in general. I have many hobbies, and I also want to practice again some activities and sports that I had to stop due to my studies. I spend my last few years practicing things that I really like. Here are some of my favorite activites!</b>
            </span>
          </div>
        </div>
      </div>
      <div class="controls">
        <ul>
          <li class="control" data-index="0"></li>
          <li class="control" data-index="1"></li>
          <li class="control" data-index="2"></li>
        </ul>
      </div>
    </div>
  </div>
        

 
  <script>
    const items = document.querySelectorAll('.item'),
    controls = document.querySelectorAll('.control'),
    headerItems = document.querySelectorAll('.item-header'),
    descriptionItems = document.querySelectorAll('.item-description'),
    activeDelay = .76,
    interval = 8000;
  
  let current = 0;
  
  const slider = {
    init: () => {
      controls.forEach(control => control.addEventListener('click', (e) => { slider.clickedControl(e) }));
      controls[current].classList.add('active');
      items[current].classList.add('active');
    },
    nextSlide: () => { // Increment current slide and add active class
      slider.reset();
      if (current === items.length - 1) current = -1; // Check if current slide is last in array
      current++;
      controls[current].classList.add('active');
      items[current].classList.add('active');
      slider.transitionDelay(headerItems);
      slider.transitionDelay(descriptionItems);
    },
    clickedControl: (e) => { // Add active class to clicked control and corresponding slide
      slider.reset();
      clearInterval(intervalF);
  
      const control = e.target,
        dataIndex = Number(control.dataset.index);
  
      control.classList.add('active');
      items.forEach((item, index) => { 
        if (index === dataIndex) { // Add active class to corresponding slide
          item.classList.add('active');
        }
      })
      current = dataIndex; // Update current slide
      slider.transitionDelay(headerItems);
      slider.transitionDelay(descriptionItems);
      intervalF = setInterval(slider.nextSlide, interval); // Fire that bad boi back up
    },
    reset: () => { // Remove active classes
      items.forEach(item => item.classList.remove('active'));
      controls.forEach(control => control.classList.remove('active'));
    },
    transitionDelay: (items) => { // Set incrementing css transition-delay for .item-header & .item-description, .vertical-part, b elements
      let seconds;
      
      items.forEach(item => {
        const children = item.childNodes; // .vertical-part(s)
        let count = 1,
          delay;
        
        item.classList.value === 'item-header' ? seconds = .015 : seconds = .007;
  
        children.forEach(child => { // iterate through .vertical-part(s) and style b element
          if (child.classList) {
            item.parentNode.classList.contains('active') ? delay = count * seconds + activeDelay : delay = count * seconds;
            child.firstElementChild.style.transitionDelay = `${delay}s`; // b element
            count++;
          }
        })
      })
    },
  }
  
  let intervalF = setInterval(slider.nextSlide, interval);
  slider.init();
  </script> 
</body>

</html>